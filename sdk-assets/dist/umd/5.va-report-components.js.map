{"version":3,"sources":["webpack:///../../../../src/nova-core/src/i18n/pseudo/pseudoL10n.ts","webpack:///../node_modules/sas-pseudol10n4js/src/Pseudo4L10n.js"],"names":["getTag","b","property","comments","stripped","replace","length","test","substring","isLocalizableKey","key","pseudoLocalize4L10n","englishBundle","localizedBundle","locale","tag","pseudoMessages","englishKV","messages","localizedKV","tagFromfile","tag2use","ps4l10n","Pseudo4L10nBuilder","lczStr","engStr","doPseudoL10n","ignoreValue","RegExp","Pseudo4L10n","this","_locale","_tag","undefined","prototype","eng","lcz","ext","builder","aLocale","aTag","module","exports"],"mappings":"sNAAA,wHAIO,MAAMA,EAAUC,IACrB,IAAK,MAAMC,KAAYD,EAAEE,SAAU,CACjC,MAAMC,EAAWH,EAAEE,SAASD,GAAUG,QAAQ,OAAQ,IACtD,GAAID,EAASE,OAAS,GAAK,aAAaC,KAAKH,GAC3C,OAAOA,EAASI,UAAU,KAMhC,SAASC,EAAiBC,GACxB,SAAKA,GAAsB,IAAfA,EAAIJ,UACZ,0CAA0CC,KAAKG,GAK9C,MAAMC,EAAsB,CACjCC,EACAC,EACAC,EACAC,KAEA,MAAMC,EAAiB,GACjBC,EAAYL,EAAcM,SAC1BC,EAAcN,EAAgBK,SAC9BE,EAAcpB,EAAOa,GACrBQ,EAAUD,GAA4BL,EACtCO,EAAUC,IAAmBT,EAAQO,GAC3C,IAAK,MAAMX,KAAOO,EAChB,GAAIR,EAAiBC,GAAM,CACzB,MAAMc,EAASL,EAAYT,GACrBe,EAASR,EAAUP,GACzBM,EAAeN,GAAOY,EAAQI,aAAaD,EAAQD,QAC9CR,EAAeN,GAAOO,EAAUP,GAEzC,OAAOM,I,iCCtCT,MAAMW,EAAc,IAAIC,OAAO,gBAU/B,SAASC,EAAaf,EAAQC,GAC1Be,KAAKC,QAAQjB,EAAOR,OAAO,EAAEQ,EAAON,UAAU,EAAE,GAAGM,EAE/CgB,KAAKE,KADE,MAAPjB,GAAqBkB,MAANlB,EAXL,MAcAA,EAAIT,OAAO,EAAES,EAAIP,UAAU,EAAE,GAAGO,EAUlDc,EAAYK,UAAUR,aAAe,SAAUS,EAAIC,GAC/C,GAAiB,GAAbD,EAAI7B,QAAcqB,EAAYpB,KAAK4B,GACnC,OAAOA,EACX,GAAIC,GAAOA,GAAOD,EACf,OAAOC,EACV,IAAIC,EAAM,IAAMP,KAAKE,KAAO,IAI5B,OAHIG,GAAKC,IACLC,GAAO,IAAKP,KAAKC,QAAS,KAC9BM,GAAKF,EACGL,KAAKC,SACT,IAAK,KACDM,GAAK,SACL,MACJ,IAAK,KACDA,GAAK,SACL,MACJ,IAAK,KACDA,GAAK,SACL,MACJ,IAAK,KACDA,GAAK,SACL,MACJ,IAAK,KACDA,GAAK,SACL,MACJ,IAAK,KACDA,GAAK,SACL,MACJ,IAAK,KACDA,GAAK,SACL,MACJ,QACIA,GAAK,QAGb,OAAOA,GAIVR,EAAYS,QAAU,SAAUC,EAAQC,GACrC,OAAO,IAAIX,EAAYU,EAAQC,IAIlCC,EAAOC,QAAUb,EAAYS","file":"5.va-report-components.js","sourcesContent":["import Pseudo4L10nBuilder from 'sas-pseudol10n4js/src/Pseudo4L10n';\nimport { MessageBundle } from '../MessageBundle';\n\n// Taken from sas-pseudol10n4js/src/PseudoProperties\nexport const getTag = (b: MessageBundle) => {\n  for (const property in b.comments) {\n    const stripped = b.comments[property].replace(/\\s+/g, '');\n    if (stripped.length > 9 && /^#Toolkit:/.test(stripped)) {\n      return stripped.substring(9);\n    }\n  }\n};\n\n// Taken from as-pseudol10n4js\nfunction isLocalizableKey(key: string) {\n  if (!key || key.length === 0) return false;\n  if (/[._](notrans|lcl|image|classname|gif)$/i.test(key)) return false;\n  return true;\n}\n\n// Taken from as-pseudol10n4js\nexport const pseudoLocalize4L10n = (\n  englishBundle: MessageBundle,\n  localizedBundle: MessageBundle,\n  locale: string,\n  tag?: string\n) => {\n  const pseudoMessages = {} as Record<string, string>;\n  const englishKV = englishBundle.messages;\n  const localizedKV = localizedBundle.messages;\n  const tagFromfile = getTag(localizedBundle);\n  const tag2use = tagFromfile ? tagFromfile : tag;\n  const ps4l10n = Pseudo4L10nBuilder(locale, tag2use);\n  for (const key in englishKV) {\n    if (isLocalizableKey(key)) {\n      const lczStr = localizedKV[key];\n      const engStr = englishKV[key];\n      pseudoMessages[key] = ps4l10n.doPseudoL10n(engStr, lczStr);\n    } else pseudoMessages[key] = englishKV[key];\n  }\n  return pseudoMessages;\n};\n","\"use strict\";\n\nconst ignoreValue = new RegExp('__([0-9]+)__');\nconst DEFAULT_TAG=\"P98\";\n\n/**\n *\n * @param {String} locale\n * @param {String} tag\n * @constructor\n * @name {Pseudo4L10n}\n */\nfunction Pseudo4L10n (locale, tag) {\n    this._locale=locale.length>2?locale.substring(0,2):locale;\n    if (tag == null || tag ==undefined)\n        this._tag=DEFAULT_TAG;\n    else\n        this._tag=tag.length>5?tag.substring(0,5):tag;\n}\n\n/**\n * Pseudo-localize a string for L10n \n *\n * @param {String} eng\n * @param {String} lcz\n * @return {String}\n */\nPseudo4L10n.prototype.doPseudoL10n = function (eng,lcz) {\n    if (eng.length ==0 || ignoreValue.test(eng))\n        return eng;\n    if (lcz && lcz != eng)\n       return lcz;\n    var ext = '[' + this._tag + ']';\n    if (eng==lcz)\n        ext += '('+ this._locale +')';\n    ext+=eng;\n    switch (this._locale) {\n        case \"fr\":\n            ext+=\"[\\u00c7\\u00f4\\u00ef\\u2019]\";\n            break;\n        case \"it\":\n            ext+=\"[\\u00c8\\u00e9\\u00e0\\u2019]\";\n            break;\n        case \"es\":\n            ext+=\"[\\u00d1\\u00fc\\u00bf\\u2019]\";\n            break;\n        case \"ru\":\n            ext+=\"[\\u0419\\u0446\\u044f\\u2019]\";\n            break;\n        case \"de\":\n            ext+=\"[\\u00df\\u00fc\\u00f6\\u2019]\";\n            break;\n        case \"pl\":\n            ext+=\"[\\u0179\\u0142\\u0119\\u2019]\";\n            break;\n        case \"lt\":\n            ext+=\"[\\u013b\\u012b\\u017e\\u2019]\";\n            break;\n        default:\n            ext+=\"[b\\u00FFe]\";\n            break;\n    }\n    return ext;\n };\n\n\n Pseudo4L10n.builder = function (aLocale,aTag) {\n    return new Pseudo4L10n(aLocale,aTag);\n };\n\n\n module.exports = Pseudo4L10n.builder;"],"sourceRoot":""}